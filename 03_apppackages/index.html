
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Chapter 3: AppPackages - UUI Campaign & Sequencer Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-3-apppackages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UUI Campaign &amp; Sequencer Docs" class="md-header__button md-logo" aria-label="UUI Campaign & Sequencer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UUI Campaign & Sequencer Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 3: AppPackages
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UUI Campaign &amp; Sequencer Docs" class="md-nav__button md-logo" aria-label="UUI Campaign & Sequencer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    UUI Campaign & Sequencer Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_goai_campaign/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_goai_campaign_step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign Step
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_goai_campaign_message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign Message
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_engage_sequence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05_engage_sequence_step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Step
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06_engage_sequence_step_content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Step Content
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07_engage_sequence_membership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Membership
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08_engage_sequence_event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Event
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../09_engage_sequence_oauth_credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence OAuth Credential
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-are-apppackages" class="md-nav__link">
    <span class="md-ellipsis">
      What are AppPackages?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-our-first-apppackage" class="md-nav__link">
    <span class="md-ellipsis">
      Building our first AppPackage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-the-apppackage-into-the-messenger" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating the AppPackage into the Messenger
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#under-the-hood" class="md-nav__link">
    <span class="md-ellipsis">
      Under the Hood
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-complex-apppackages" class="md-nav__link">
    <span class="md-ellipsis">
      More Complex AppPackages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="chapter-3-apppackages">Chapter 3: AppPackages</h1>
<p>In the previous chapter on <a href="../02_conversations/">Conversations</a>, we learned how <code>uui</code> manages individual chat threads within the <a href="../01_messenger/">Messenger</a>.  Now, let's explore how to make those conversations more interactive and useful with <code>AppPackages</code>.</p>
<p>Imagine you want to collect some basic information from your users, like their email address, before starting a conversation.  Or maybe you want to offer them helpful resources, like links to your FAQ page. <code>AppPackages</code> allow you to do these things and much more! They're like mini-apps within your chat widget, providing specific functions and enhancing the user experience.</p>
<h2 id="what-are-apppackages">What are AppPackages?</h2>
<p><code>AppPackages</code> are reusable components that add functionality to your <a href="../01_messenger/">Messenger</a>. Think of them as apps on your phone.  They can:</p>
<ul>
<li>Display interactive UI elements (buttons, forms, lists)</li>
<li>Collect user information</li>
<li>Integrate with third-party services</li>
<li>Show dynamic content</li>
</ul>
<h2 id="building-our-first-apppackage">Building our first AppPackage</h2>
<p>Let's build a simple AppPackage that greets the user with a welcome message.  This is like having a friendly store greeter.</p>
<p>First, we define the structure and content of our AppPackage using a JSON-like format. This structure is called <code>definitions</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Simplified AppPackage definition</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myPackage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;WelcomeMessage&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">definitions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Hello there!&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<p>This definition creates an AppPackage named "WelcomeMessage" which simply displays the text "Hello there!".  The <code>type: "text"</code> indicates we want to display a simple text message.</p>
<h2 id="integrating-the-apppackage-into-the-messenger">Integrating the AppPackage into the Messenger</h2>
<p>Next, we need to add our AppPackage to the <a href="../01_messenger/">Messenger</a>'s home screen.  This is like placing our greeter at the store entrance.  We do this by configuring our app settings (simplified example):</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Simplified app configuration (backend)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="c1">// ... other settings ...</span>
<span class="w">  </span><span class="nx">visitor_home_apps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nx">myPackage</span><span class="w"> </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<p>This adds our <code>myPackage</code> to the <code>visitor_home_apps</code> array, which tells the <code>Messenger</code> to display it on the home screen.</p>
<h2 id="under-the-hood">Under the Hood</h2>
<p>When a user opens the <a href="../01_messenger/">Messenger</a>, it fetches the configured <code>AppPackages</code> from the server and renders them based on their definitions.</p>
<div class="highlight"><pre><span></span><code>sequenceDiagram
    participant User
    participant Browser
    participant Messenger
    participant Server
    participant AppPackage

    User-&gt;&gt;Browser: Opens the Messenger
    Browser-&gt;&gt;Messenger: Requests home screen content
    Messenger-&gt;&gt;Server: Requests AppPackages
    Server--&gt;&gt;Messenger: Sends AppPackage definitions
    Messenger-&gt;&gt;AppPackage: Renders the AppPackage UI
    Browser-&gt;&gt;User: Displays the welcome message
</code></pre></div>
<p>The <code>Messenger</code> uses a component to handle the rendering of <code>AppPackages</code>. Here's a simplified example:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// app/javascript/packages/components/src/components/packageBlocks/baseInserter.tsx (simplified)</span>
<span class="c1">// ... other code ...</span>
<span class="p">{</span><span class="nx">p</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">DefinitionRenderer</span><span class="w"> </span>
<span class="w">    </span><span class="nx">schema</span><span class="o">=</span><span class="p">{</span><span class="nx">p</span><span class="p">.</span><span class="nx">definitions</span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// ... other props ...</span>
<span class="w">  </span><span class="o">/&gt;</span>
<span class="p">)}</span>
<span class="c1">// ... other code ...</span>
</code></pre></div>
<p>This code snippet shows how the <code>DefinitionRenderer</code> component uses the <code>definitions</code> from the <code>AppPackage</code> (represented by <code>p</code>) to render the UI.</p>
<h2 id="more-complex-apppackages">More Complex AppPackages</h2>
<p>We can create more complex AppPackages by adding more elements to the <code>definitions</code> array.  For instance, we can add a button:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">myPackage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="nx">definitions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;button&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Click me!&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nx">action</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;submit&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// Action to perform on click</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<p>This adds a button labeled "Click me!" to our AppPackage. The <code>action</code> property defines what happens when the button is clicked. In this case, it triggers a "submit" action, which can be handled to perform specific tasks.</p>
<h2 id="conclusion">Conclusion</h2>
<p>In this chapter, we learned about <code>AppPackages</code> and how they extend the functionality of the <a href="../01_messenger/">Messenger</a>.  We built a simple welcome message AppPackage and explored how to integrate it into the Messenger's home screen. We also saw how to create more complex AppPackages with interactive elements like buttons.  In the next chapter, we'll explore <a href="../04_bot_tasks/">Bot Tasks</a>, which automate actions and responses within your conversations.</p>
<hr />
<p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>