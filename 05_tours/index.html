
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Chapter 5: Tours - UUI Campaign & Sequencer Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-5-tours" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UUI Campaign &amp; Sequencer Docs" class="md-header__button md-logo" aria-label="UUI Campaign & Sequencer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UUI Campaign & Sequencer Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 5: Tours
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UUI Campaign &amp; Sequencer Docs" class="md-nav__button md-logo" aria-label="UUI Campaign & Sequencer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    UUI Campaign & Sequencer Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_goai_campaign/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_goai_campaign_step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign Step
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_goai_campaign_message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoAI Campaign Message
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_engage_sequence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05_engage_sequence_step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Step
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06_engage_sequence_step_content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Step Content
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07_engage_sequence_membership/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Membership
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08_engage_sequence_event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence Event
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../09_engage_sequence_oauth_credential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engage Sequence OAuth Credential
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#guiding-users-through-new-features" class="md-nav__link">
    <span class="md-ellipsis">
      Guiding Users Through New Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-tour" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Tour
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling-the-tour" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling the Tour
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#under-the-hood" class="md-nav__link">
    <span class="md-ellipsis">
      Under the Hood
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="chapter-5-tours">Chapter 5: Tours</h1>
<p>Following our discussion on automating actions with <a href="../04_bot_tasks/">Bot Tasks</a>, let's explore how to guide users through your application with <code>Tours</code>. Imagine you've just redesigned your website and want to highlight the new features to your users.  Tours provide a step-by-step walkthrough, highlighting key elements and explaining their functionality. They act like a guide, pointing out important areas and providing helpful information.</p>
<h2 id="guiding-users-through-new-features">Guiding Users Through New Features</h2>
<p>Let's say you've added a new "Help" button to your <a href="../01_messenger/">Messenger</a> and want to ensure your users know about it. We can create a Tour to highlight this button.</p>
<p>A Tour consists of several steps. Each step highlights a specific element on the page and provides a description.  Let’s create our first step:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Simplified Tour step definition (backend)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">tourStep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">target</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#help-button&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// CSS selector for the Help button</span>
<span class="w">  </span><span class="nx">serialized_content</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="w"> </span><span class="nx">blocks</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Click here for help!&quot;</span><span class="w"> </span><span class="p">}]})</span>
<span class="p">};</span>
</code></pre></div>
<p>This defines a single step in our Tour. <code>target</code> specifies the HTML element to highlight (in this case, the Help button using its ID).  <code>serialized_content</code> contains the message to display next to the highlighted element.  Notice how it uses a structure similar to <a href="../03_apppackages/">AppPackages</a> for the content definition.</p>
<h2 id="creating-a-tour">Creating a Tour</h2>
<p>Now let’s create a Tour using this step.  We’ll keep it simple with just one step for now:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Simplified Tour definition (backend)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myTour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/help&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// URL where the Tour should be active</span>
<span class="w">  </span><span class="nx">steps</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">tourStep</span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<p>This creates a Tour that will be active on the "/help" URL.  The <code>steps</code> array contains all the steps of the Tour, in this case just our single <code>tourStep</code>.</p>
<h2 id="enabling-the-tour">Enabling the Tour</h2>
<p>Finally, we need to enable our Tour so it's displayed to the user.  This is like telling our guide to start the tour.  We’ll do this by setting the Tour state to “enabled” (simplified backend example):</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Simplified code to enable a Tour (backend)</span>
<span class="nx">myTour</span><span class="p">.</span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="p">;</span>
<span class="nx">myTour</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</code></pre></div>
<p>This code enables <code>myTour</code> and saves it, making it active for users visiting the specified URL.</p>
<h2 id="under-the-hood">Under the Hood</h2>
<p>When a user visits the specified URL, the <a href="../01_messenger/">Messenger</a> checks for any enabled Tours. If it finds one, it displays the Tour steps to the user.</p>
<div class="highlight"><pre><span></span><code>sequenceDiagram
  participant User
  participant Browser
  participant Messenger
  participant Server
  participant Tour

  User-&gt;&gt;Browser: Visits /help
  Browser-&gt;&gt;Messenger: Requests page content
  Messenger-&gt;&gt;Server: Checks for enabled Tours
  Server--&gt;&gt;Messenger: Sends Tour data
  Messenger-&gt;&gt;Tour: Starts the Tour
  Browser-&gt;&gt;User: Displays Tour step highlighting the Help button
</code></pre></div>
<p>The <code>UserTour</code> component handles the display and logic of the Tour in the frontend.  Here's a simplified snippet demonstrating how the Tour steps are rendered:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// app/javascript/packages/messenger/src/client_messenger/UserTour.tsx (simplified)</span>
<span class="c1">// ... other code ...</span>
<span class="o">&lt;</span><span class="nx">Tour</span>
<span class="w">  </span><span class="nx">steps</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">prepareJoyRidyContent</span><span class="p">()}</span><span class="w"> </span><span class="c1">// Prepare steps for display</span>
<span class="w">  </span><span class="nx">isOpen</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">run</span><span class="p">}</span><span class="w"> </span><span class="c1">// Control Tour visibility</span>
<span class="w">  </span><span class="c1">// ... other props ...</span>
<span class="err">/&gt;</span>
<span class="c1">// ... other code ...</span>
</code></pre></div>
<p>This code utilizes the <code>reactour</code> library to render the Tour. <code>prepareJoyRidyContent</code> processes the Tour step definitions for the library.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This chapter introduced Tours and how they guide users through your application. We built a simple Tour to highlight a new Help button and saw how to enable it for a specific URL.  In the next chapter, we'll explore <a href="../06_customization/">Customization</a> options, allowing you to tailor the appearance and behavior of your <a href="../01_messenger/">Messenger</a> to fit your brand.</p>
<hr />
<p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>